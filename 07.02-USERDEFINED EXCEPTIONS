USERDEFINED EXCEPTIONS

WE CAL ALSO CREATE OUR OWN EXCEPTION NAMES & ALSO RAISE WHENEVER NECESSARY.
THESE TYPES OF EXCEPTIONS ARE CALLED USER DEFINED EXCEPTION.

STEP1. DECLARE
STEP2. RAISE
STEP3. HANDLING EXCEPTION

STEP1. DECLARE
-----------------

IN DECLARE SECTION OF THE PL/SQL PROGRAM WE ARE DEFINING OUR OWN EXCEPTIONNAME USING EXCEPTION TYPE.

SYNTAX:

USERDEFINEDEXCEPTIONNAME   EXCEPTION;

EX: DECLARE

A EXCEPTION;

STEP2. RAISE
-----------------
WHENEVER NECESSARY RAISE USER DEFINED EXCEPTION EITHER IN  EXECUTABLE SECTION OR IN EXCEPTION SECTION, IN THIS CASE WE ARE USING RAISE KEYWORD.

SYNTAX:

RAISE USERDEFINEDEXCEPTIONNAME;


IN THIS CASE ORACLE SERVER ONLY RAISE THAT EXCEPTION

STEP3. HANDLING EXCEPTION
-----------------------------

WE CAN ALSO HANDLE USERDEFINED EXCEPTIONS AS SAME AS PREDEFINED EXCEPTION USING PREDEFINED HANDLER.
SYNTAX:
WHEN USERDEFINEDEXCEPTIONNAME1 THEN
STATEMENTS;
WHEN USERDEFINEDEXCEPTIONNAME2 THEN
STATEMENTS;
_______________________
________________________
WHEN OTHER THEN
STATEMENTS;

EX:

DECLARE
V_SAL NUMBER(10);
Z EXCEPTION;
V_EMPNO NUMBER:=&EMPNO;
BEGIN
SELECT SAL INTO V_SAL
FROM EMP
WHERE EMPNO=V_EMPNO;
IF V_SAL>2000 THEN
RAISE Z;
ELSE
UPDATE EMP
SET SAL=SAL+100
WHERE EMPNO=V_EMPNO;
END IF;
EXCEPTION
WHEN Z THEN
DBMS_OUTPUT.PUT_LINE('SALARY ALREADY HIGH');
END;
/



